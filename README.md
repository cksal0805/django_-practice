# Django Prectice

## ğŸ± Django ê¸°ì´ˆ ì—°ìŠµìš© ë ˆíŒŒì§€í† ë¦¬ ì…ë‹ˆë‹¤

- ëŒ€ë¶€ë¶„ì˜ ë‚´ìš©ì€ [Djangoë¬¸ì„œ](https://docs.djangoproject.com/ko/3.2/intro/)ì™€ [ì¥ê³ ê±¸ìŠ¤íŠœí† ë¦¬ì–¼](https://tutorial.djangogirls.org/ko/django_start_project/) ë¥¼ ì°¸ê³ í•˜ì—¬ ì‘ì„±í•©ë‹ˆë‹¤.

### ëª©ì 

ì„œë²„ìª½ì€ ëŠ˜ Nodeë¥¼ ì¨ì™”ëŠ”ë°, Djangoë¥¼ ì ê¹ ì“¸ì¼ì´ ìƒê²¨ ì“°ëŠ”ê¹€ì— ì •ë¦¬í•´ ë‘¡ë‹ˆë‹¤.

### ê¸°ë¡

- [x] **[5/19ì¼] Django ê°œë…ê³¼ ê¸°ë³¸ì…‹íŒ… ë° ì„œë²„ì‹¤í–‰**

### Djangoë€ ë¬´ì—‡ì¸ê°€?

pythonìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ë¬´ë£Œ ì–´í”Œë¦¬ì¼€ì´ì…˜ í”„ë ˆì„ì›Œí¬ ì…ë‹ˆë‹¤.
ì¥ì ìœ¼ë¡œëŠ” ì´ˆë³´ì ë¶„ë“¤ì´ ë°°ìš°ê¸° ì‰¬ìš´ pythonìœ¼ë¡œ ë˜ì–´ìˆë‹¤ëŠ” ì ì´ê³ , ë¡œê·¸ì¸, íšŒì›ê°€ì…, ì¸ì¦,corsë“±ì˜ ë°˜ë³µì ìœ¼ë¡œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì€ ì´ë¯¸ ë§Œë“¤ì–´ì¡Œë‹¤ ë¼ëŠ” ì ì—ì„œ ê°œë°œ ì‹œê°„ì„ ë‹¨ì¶• ì‹œí‚¬ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

### Djangoì—ì„œ ê°€ì§€ê³  ê°€ëŠ” íŒ¨í„´

ë³´í†µ MVC íŒ¨í„´ì„ ë§ì´ ì‚¬ìš©í•©ë‹ˆë‹¤.(íŠ¹íˆ ëŒ€í‘œì ìœ¼ë¡œ spring)
í•˜ì§€ë§Œ DjangoëŠ” MVT(mobile-view-templates) ê¸°ë°˜ ì…ë‹ˆë‹¤.

## ê°€ìƒí™˜ê²½ (Virtual environment)

ì¥ê³ ëŠ” ê°€ìƒí™˜ê²½ì— ì„¤ì¹˜í•´ì„œ ë…ë¦½ì  í™˜ê²½ì—ì„œ ê°œë°œí•©ë‹ˆë‹¤.
ê°•ì œëŠ” ì•„ë‹™ë‹ˆë‹¤. í•˜ì§€ë§Œ ê°€ìƒí™˜ê²½ì—ì„œ ê°œë°œì„ ì ê·¹ ê¶Œí•©ë‹ˆë‹¤.
ì™œ? ê°€ìƒí™˜ê²½ì—ì„œ ì„¤ì¹˜í•´ì•¼ í•˜ë‚˜? ì „ì—­ì ì¸ ê³µê°„ì— ì„¤ì¹˜í•´ ê°œë°œì„ ì§„í–‰ í•  ê²½ìš°
í•œ ì»´í“¨í„°ì—ì„œ í•˜ë‚˜ì˜ ì¥ê³  ë²„ì „ë§Œì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. aë²„ì „ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë‹¤ê°€ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œ cë²„ì „ì„ ì‚¬ìš©í•˜ë ¤ê³  í•œë‹¤ë©´ í•œ ì»´í“¨í„°ì—ì„œ í•˜ë‚˜ì˜ ì¥ê³  ë²„ì „ë§Œì„ ì‚¬ìš©í•  ìˆ˜ ìˆê¸°ì— ë²„ì „ì—…ì„ ì‹œì¼œì•¼ í•˜ëŠ”ë° ì¶©ëŒì´ë‚˜ê±°ë‚˜ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆì£ .

### Node.js ì™€ Djangoì˜ ë¹„êµ

CRUDì— ì§‘ì¤‘ë˜ì–´ìˆëŠ” í”„ë¡œì íŠ¸ë¼ë©´ Django ë¥¼ ì‚¬ìš©í•  ê²ƒ ê°™ê³ ,
ì»¤ìŠ¤í„°ë§ˆì´ì§•ì´ ë§ì´ í•„ìš”í•˜ë‹¤ë©´, Node.jsë¥¼ ì„ íƒ í•  ê²ƒ ê°™ì€ë°,
ê°œì¸ì ìœ¼ë¡œëŠ” jsë¥¼ ì£¼ ì–¸ì–´ë¡œ ì“°ëŠ” ì…ì¥ì—ì„œ Node.jsê°€ í¸í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ì†ë„ë©´ì„œì—ë„ ê·¸ë ‡ê³ ìš”.

## ê°€ìƒí™˜ê²½ ë° ì¥ê³  ì„¤ì¹˜ ë° ì…‹íŒ…

mac os ê¸°ì¤€ **prectice_venv** ì´ë¼ëŠ” ì´ë¦„ì˜ ê°€ìƒí™˜ê²½ ì„¤ì¹˜(ì´ë¦„ì€ ë§ˆìŒëŒ€ë¡œ)

```shell
python3 -m venv prectice_venv
```

ì¥ê³  ì„¤ì¹˜ (ë‹¹ì—°íˆ íŒŒì´ì¬ì€ ì„¤ì¹˜ ë˜ì–´ìˆë‹¤ëŠ” ê°€ì •í•˜ì—)

1. ê°€ìƒí™˜ê²½ í™œì„±í™”

```shell (prectice_venvëŠ” ì—¬ëŸ¬ë¶„ì´ ë§Œë“  ê°€ìƒí™˜ê²½ ì´ë¦„)
source prectice_venv/bin/activate
```

2. ì¥ê³  ì„¤ì¹˜

```shell
pip install django~=2.0.0
```
---
ğŸ”¥ **ModuleNotFoundError: No module named 'pip' ë¼ê³  ë– ìš”!!!** ğŸ”¥ 

ë§Œì•½ ModuleNotFoundError: No module named 'pip' ë¼ê³  ëœ¬ë‹¤ë©´,
ì•„ë˜ì™€ ê°™ì´ ì¥ê³ ë¥¼ ì„¤ì¹˜í•˜ëŠ”ë° í•„ìš”í•œ pipë²„ì „ì´ ìµœì‹ ì¸ì§€ í™•ì¸í•˜ê³  installì„ ì§„í–‰

```shell
python3 -m pip install --upgrade pip
```

ë§Œì•½ ê¸°ì¡´ì— ì„¤ì¹˜í–ˆì—ˆëŠ”ë° ì•ˆëœë‹¤ë©´ ì—…ê·¸ë ˆì´ë“œ í•˜ê³  ì‚­ì œ í›„ ì¬ì„¤ì¹˜ í•˜ëŠ” ê³¼ì •ì—ì„œ ê¶Œí•œ ë¬¸ì œë¡œ pipê°€ ì‚­ì œëœ ìƒíƒœë¡œ ë‚¨ì•„ ì´ëŸ° í˜„ìƒì´ ë°œìƒ í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ pypaë¥¼ í†µí•´ pipë¥¼ ì¬ì„¤ì¹˜ í•´ì¤ë‹ˆë‹¤.

```shell
//curlì„ ì´ìš©í•´ ë‹¤ìš´
curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py

//ì„¤ì¹˜
python get-pip.py
```

ì„±ê³µì ìœ¼ë¡œ ëë‹¤ë©´?

```shell
pip3 -V // ë²„ì „ í™•ì¸ ë²„ì „ì´ ì˜ëœ¨ë©´ ì„±ê³µì ìœ¼ë¡œ ì„¤ì¹˜ ëœê±°ì„
```

---

## ê°„ë‹¨í•œ í”„ë¡œì íŠ¸ ë§Œë“¤ì–´ë³´ê¸°

**âœğŸ» ì•„ë˜ ëª¨ë“  ì…‹íŒ…ì€ ë°˜ë“œì‹œ ê°€ìƒí™˜ê²½ì—ì„œ ì§„í–‰í•´ì£¼ì„¸ìš”!!!**

> ğŸ˜º **ê°€ìƒí™˜ê²½ í™œì„±í™” ë°©ë²•**
(prectice_venvì—ëŠ” ì—¬ëŸ¬ë¶„ì´ ë§Œë“  ê°€ìƒí™˜ê²½ ì´ë¦„)
mac os (shellì—ì„œ) - source prectice_venv/bin/activate
window (cmdì—ì„œ) - prectice_venv\Scripts\activat

#### 1. ì¥ê³ í”„ë¡œì íŠ¸ ì‹œì‘í•˜ê¸°(ê³¨ê²©ì„ ë§Œë“¤ì–´ì£¼ëŠ” ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰)

- mysite ëŠ” ê·¸ëƒ¥ ì´ë¦„ì„ ì—¬ëŸ¬ë¶„ ë§ˆìŒëŒ€ë¡œ í•˜ë©´ ë¨
- .ì€ í˜„ì¬ ë””ë ‰í† ë¦¬ì— ë¶ˆëŸ¬ì˜¤ê² ë‹¤ëŠ” ì†Œë¦¬

```shell
django-admin startproject mysite .
```

ì„±ê³µì ìœ¼ë¡œ ë§Œë“¤ì–´ ì¡Œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ íŒŒì´ì¬ íŒŒì¼ì´ ìƒê¸¸ ê²ë‹ˆë‹¤.
ì €ëŠ” backí´ë” ì•ˆì—ì„œ ìœ„ì˜ ì„¤ì¹˜ë“¤ì„ ëª¨ë‘ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

ğŸ“‚ back /
â””â”€â”€ ğŸ“„ manage.py // Django í”„ë¡œì íŠ¸ì™€ ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ìƒí˜¸ì‘ìš© í•˜ëŠ” ì»¤ë§¨ë“œë¼ì¸ì˜ ìœ í‹¸ë¦¬í‹°
â””â”€â”€ ğŸ“‚ mysite /
_______â””â”€â”€ ğŸ“„ __ init __.py
_______â””â”€â”€ ğŸ“„ settings.py // ì›¹ì‚¬ì´íŠ¸ ì„¤ì •ì´ ìˆëŠ” íŒŒì¼
_______â””â”€â”€ ğŸ“„ asgi.py
_______â””â”€â”€ ğŸ“„ wsgi.py
_______â””â”€â”€ ğŸ“„u rls.py // urlresolverê°€ ì‚¬ìš©í•˜ëŠ” íŒŒì¼

**ğŸ‘€ asgi, wsgi ì€ ë­˜ê¹Œ?**

Django ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ ì•„í‚¤í…ì³ì—ì„œëŠ” Django í”„ë ˆì„ì›Œí¬ ë‚´ë¶€ì˜ urlê³¼ web serverê°€ í†µì‹ í•©ë‹ˆë‹¤.

ì—¬ê¸°ì„œ web serverë¡œ ë§ì´ ì‚¬ìš©ë˜ëŠ” Apach HTTP Serverì™€ Tomcatì€ JAVAê¸°ë°˜ì´ë¯€ë¡œ íŒŒì´ì¬ ì½”ë“œë¥¼ ì½ì„ ìˆ˜ ì—†ë‹¤. ê·¸ë ‡ê¸° ë–„ë¬¸ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì›¹ì„œë²„ëŠ” ë§¤ìš° í•œì •ì ì…ë‹ˆë‹¤.

ì„±ëŠ¥ë©´ì—ì„œ ê²€ì¦ë˜ì–´ìˆëŠ” apachìª½ì˜ ì›¹ì„œë²„ë¥¼ ì´ìš©í•˜ë©´ ì¢‹ì€ë°,

ì´ë•Œ ìµœì ì˜ ì†”ë£¨ì…˜ì´ Apach ì¬ë‹¨ì˜ ì›¹ ì„œë²„ ë¿ë§Œ ì•„ë‹ˆë¼ ëª¨ë“  ì›¹ ì„œë²„ì™€ Python ê³„ì—´ì˜ í”„ë ˆì„ ì›Œí¬ê°€ í†µì‹ í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë¯¸ë“¤ ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ê²Œ ë°”ë¡œ asgi,wsgi ì…ë‹ˆë‹¤.

- asgiëŠ” web serverì™€ í”„ë ˆì„ì›Œí¬(django) ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì—°ê²°í•´ ì£¼ëŠ” pythonì˜ í‘œì¤€ api, wsgiì™€ì˜ ìƒìœ„í˜¸í™˜

- wsgiëŠ” ASGIì´ì „ì˜ Pythonì˜ í‘œì¤€ ë¹„ë™ê¸° ë°©ì‹ ê¸°ëŠ¥ì— êµ¬í˜„ì— ìˆì–´ì„œ ë¬¸ì œê°€ ë§ì•˜ë˜ wsgië¼ asgiê°€ ë‚˜ì™”ë‹¤.

**ìì„¸í•œ ì‚¬í•­ì€ ì•„ë˜ ë§í¬ ì°¸ì¡°**
https://nitro04.blogspot.com/2020/01/django-python-asgi-wsgi-analysis-of.html

#### 2. ì„¤ì •ë³€ê²½

- mysite/settings.pyì„ ì¡°ê¸ˆ ê³ ì³ ë³¼ê²Œìš”. ì„¤ì¹˜í•œ ì½”ë“œ ì—ë””í„°ë¥¼ ì—´ì–´ íŒŒì¼ì„ ì—´ì–´ì£¼ì„¸ìš”

**ì‹œê°„ ë°”ê¾¸ê¸°**

> TIME_ZONE = 'UTC' -> TIME_ZONE = 'Asia/Seoul'

**ì •ì íŒŒì¼ ê²½ë¡œ ì¶”ê°€í•˜ê¸°**

> STATIC_URL = '/static/'
STATIC_ROOT = BASE_DIR, 'static'

**í˜¸ìŠ¤íŠ¸ì„¤ì •**

ë””ë²„ê¹… ëª¨ë“œì—ì„œ ALLOWED_HOSTS ë³€ìˆ˜ê°€ ë¹ˆ ë¦¬ìŠ¤íŠ¸ì¼ ê²½ìš° ['localhost', '127.0.0.1', '[::1]'] ì˜ë¯¸ê°€ ë©ë‹ˆë‹¤. ì¦‰, **ë¡œì»¬ í˜¸ìŠ¤íŠ¸ì—ì„œë§Œ ì ‘ì†**ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•  ë•Œ PythonAnywhereì˜ í˜¸ìŠ¤íŠ¸ ì´ë¦„ê³¼ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë‹¤ìŒ ì„¤ì •ì„ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.
> ALLOWED_HOSTS = ['127.0.0.1', '.pythonanywhere.com']

**DBì„¤ì •**

ë°ì´í„° ë² ì´ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
pythonë¶€í„° ì…ë ¥í•˜ì‹œë©´ ë©ë‹ˆë‹¤. (ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ manage.pyì´ í•„ìš”)

```shell
 (prectice_venv) back$ python manage.py migratepython manage.py migrate
```

#### 3. ì›¹ì„œë²„ ì‹œì‘í•˜ê¸°

pythonë¶€í„° ì…ë ¥í•˜ì‹œë©´ ë©ë‹ˆë‹¤. (ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ manage.pyì´ í•„ìš”)

```shell
 (prectice_venv) back$ python manage.py runserver
```

ë¸Œë¼ìš°ì €ì—ì„œ
http://127.0.0.1:8000/ ë¥¼ ì…ë ¥í•´ ì—´ì–´ë³´ì„¸ìš”!

```shell
Django version 3.2.3, using settings 'mysite.settings'
Starting development server at http://127.0.0.1:8000/
Quit the server with CONTROL-C.
[19/May/2021 23:00:19] "GET / HTTP/1.1" 200 10697
[19/May/2021 23:00:19] "GET /static/admin/css/fonts.css HTTP/1.1" 200 423
[19/May/2021 23:00:19] "GET /static/admin/fonts/Roboto-Bold-webfont.woff HTTP/1.1" 200 86184
[19/May/2021 23:00:19] "GET /static/admin/fonts/Roboto-Regular-webfont.woff HTTP/1.1" 200 85876
[19/May/2021 23:00:19] "GET /static/admin/fonts/Roboto-Light-webfont.woff HTTP/1.1" 200 85692
Not Found: /favicon.ico
```

ğŸ¤© ì„±ê³µ!

---------------------

